---
Organizations:
  - &OrdererOrg
      Name: OrdererOrg
      ID: OrdererMSP
      MSPDir: crypto-config/ordererOrganizations/example.com/msp
$(for ((i=1; i<=8; i++)); do
    ORG_NAME="Org${i}"
    echo "  - &${ORG_NAME}"
    echo "      Name: ${ORG_NAME}MSP"
    echo "      ID: ${ORG_NAME}MSP"
    echo "      MSPDir: crypto-config/peerOrganizations/${ORG_NAME,,}.example.com/msp"
    echo "      AnchorPeers:"
    echo "        - Host: peer0.${ORG_NAME,,}.example.com"
    echo "          Port: $((7051 + (i-1)*2000))"
done)

Capabilities:
  Channel: &ChannelCapabilities
    V2_0: true
  Orderer: &OrdererCapabilities
    V2_0: true
  Application: &ApplicationCapabilities
    V2_0: true

Application:
  Organizations:
$(for ((i=1; i<=8; i++)); do
    ORG_NAME="Org${i}"
    echo "    - *${ORG_NAME}"
done)

Orderer:
  OrdererType: etcdraft
  Addresses:
    - orderer1.example.com:7050
  BatchTimeout: 2s
  BatchSize:
    MaxMessageCount: 10
    AbsoluteMaxBytes: 99 MB
    PreferredMaxBytes: 512 KB
  Organizations:
    - *OrdererOrg
  Capabilities:
    *OrdererCapabilities

Channel:
  Capabilities:
    *ChannelCapabilities

Profiles:
  ApplicationGenesis:
    Capabilities:
      *ChannelCapabilities
    Orderer:
      OrdererType: etcdraft
      Addresses:
        - orderer1.example.com:7050
      Organizations:
        - *OrdererOrg
      Capabilities:
        *OrdererCapabilities
    Application:
      Organizations:
$(for ((i=1; i<=8; i++)); do
    ORG_NAME="Org${i}"
    echo "        - *${ORG_NAME}"
done)
      Capabilities:
        *ApplicationCapabilities
